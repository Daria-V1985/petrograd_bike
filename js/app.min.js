/*! For license information please see app.min.js.LICENSE.txt */
(()=>{"use strict";function e(e){this.type=e}e.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],n=t.dataset.da.trim().split(","),o={};o.element=t,o.parent=t.parentNode,o.destination=document.querySelector(n[0].trim()),o.breakpoint=n[1]?n[1].trim():"767",o.place=n[2]?n[2].trim():"last",o.index=this.indexInParent(o.parent,o.element),this.оbjects.push(o)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,n){return Array.prototype.indexOf.call(n,e)===t}));for(let t=0;t<this.mediaQueries.length;t++){const n=this.mediaQueries[t],o=String.prototype.split.call(n,","),r=window.matchMedia(o[0]),a=o[1],i=Array.prototype.filter.call(this.оbjects,(function(e){return e.breakpoint===a}));r.addListener((function(){e.mediaHandler(r,i)})),this.mediaHandler(r,i)}},e.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const n=t[e];n.index=this.indexInParent(n.parent,n.element),this.moveTo(n.place,n.element,n.destination)}else for(let e=t.length-1;e>=0;e--){const n=t[e];n.element.classList.contains(this.daClassname)&&this.moveBack(n.parent,n.element,n.index)}},e.prototype.moveTo=function(e,t,n){t.classList.add(this.daClassname),"last"===e||e>=n.children.length?n.insertAdjacentElement("beforeend",t):"first"!==e?n.children[e].insertAdjacentElement("beforebegin",t):n.insertAdjacentElement("afterbegin",t)},e.prototype.moveBack=function(e,t,n){t.classList.remove(this.daClassname),void 0!==e.children[n]?e.children[n].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},e.prototype.indexInParent=function(e,t){const n=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(n,t)},e.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))};new e("max").init();let t={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}};let n=!0,o=(e=500)=>{let t=document.querySelector("body");if(n){let o=document.querySelectorAll("._lp");setTimeout((()=>{for(let e=0;e<o.length;e++){o[e].style.paddingRight="0px"}t.style.paddingRight="0px",document.documentElement.classList.remove("lock")}),e),n=!1,setTimeout((function(){n=!0}),e)}},r=(e=500)=>{let t=document.querySelector("body");if(n){let o=document.querySelectorAll("._lp");for(let e=0;e<o.length;e++){o[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}t.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),n=!1,setTimeout((function(){n=!0}),e)}};let a={getErrors(e){let t=0,n=e.querySelectorAll("*[data-required]");return n.length&&n.forEach((e=>{null!==e.offsetParent&&(t+=this.validateInput(e))})),t},validateInput(e){let t=0;return"email"===e.dataset.required?(e.value=e.value.replace(" ",""),this.emailTest(e)?(this.addError(e),t++):this.removeError(e)):("checkbox"!==e.type||e.checked)&&e.value?this.removeError(e):(this.addError(e),t++),t},addError(e){e.classList.add("_error"),e.parentElement.classList.add("_error");let t=e.parentElement.querySelector(".form__error");t&&e.parentElement.removeChild(t),e.hasAttribute("data-error")&&e.getAttribute("data-error")&&e.parentElement.insertAdjacentHTML("beforeend",'<div class="form__error">'+e.getAttribute("data-error")+"</div>")},removeError(e){e.classList.remove("_error"),e.parentElement.classList.remove("_error"),e.parentElement.querySelector(".form__error")&&e.parentElement.removeChild(e.parentElement.querySelector(".form__error"))},formClean(e){let t=e.querySelectorAll("input,textarea");for(let e=0;e<t.length;e++){const n=t[e];n.parentElement.classList.remove("_focus"),n.classList.remove("_focus"),n.value=n.dataset.placeholder}let n=e.querySelectorAll(".checkbox__input");if(n.length>0)for(let e=0;e<n.length;e++){n[e].checked=!1}let o=e.querySelectorAll("select");if(o.length>0)for(let e=0;e<o.length;e++){const t=o[e],n=t.getAttribute("data-default");t.value=n,select_item(t)}},emailTest:e=>!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)};var i,l;window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),o=this;do{for(t=n.length;0<=--t&&n.item(t)!==o;);}while(t<0&&(o=o.parentElement));return o}),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,window.CustomEvent=e)}(),function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var o=(new Date).getTime(),r=Math.max(0,16-(o-e)),a=window.setTimeout((function(){t(o+r)}),r);return e=o+r,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),i="undefined"!=typeof global?global:"undefined"!=typeof window?window:void 0,l=function(e){var t={ignore:"[data-scroll-ignore]",header:null,topOnEmptyHash:!0,speed:500,speedAsDuration:!1,durationMax:null,durationMin:null,clip:!0,offset:0,easing:"easeInOutCubic",customEasing:null,updateURL:!0,popstate:!0,emitEvents:!0},n=function(){var e={};return Array.prototype.forEach.call(arguments,(function(t){for(var n in t){if(!t.hasOwnProperty(n))return;e[n]=t[n]}})),e},o=function(e){"#"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),o=n.length,r=-1,a="",i=n.charCodeAt(0);++r<o;){if(0===(t=n.charCodeAt(r)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");a+=1<=t&&t<=31||127==t||0===r&&48<=t&&t<=57||1===r&&48<=t&&t<=57&&45===i?"\\"+t.toString(16)+" ":128<=t||45===t||95===t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122?n.charAt(r):"\\"+n.charAt(r)}return"#"+a},r=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},a=function(t,n,o,r){if(n.emitEvents&&"function"==typeof e.CustomEvent){var a=new CustomEvent(t,{bubbles:!0,detail:{anchor:o,toggle:r}});document.dispatchEvent(a)}};return function(i,l){var s,c,d,u,m={cancelScroll:function(e){cancelAnimationFrame(u),u=null,e||a("scrollCancel",s)},animateScroll:function(o,i,l){m.cancelScroll();var c=n(s||t,l||{}),p="[object Number]"===Object.prototype.toString.call(o),f=p||!o.tagName?null:o;if(p||f){var h=e.pageYOffset;c.header&&!d&&(d=document.querySelector(c.header));var g,y,v,w,E,b,A,S,L=function(t){return t?(n=t,parseInt(e.getComputedStyle(n).height,10)+t.offsetTop):0;var n}(d),_=p?o:function(t,n,o,a){var i=0;if(t.offsetParent)for(;i+=t.offsetTop,t=t.offsetParent;);return i=Math.max(i-n-o,0),a&&(i=Math.min(i,r()-e.innerHeight)),i}(f,L,parseInt("function"==typeof c.offset?c.offset(o,i):c.offset,10),c.clip),k=_-h,x=r(),q=0,C=(g=k,v=(y=c).speedAsDuration?y.speed:Math.abs(g/1e3*y.speed),y.durationMax&&v>y.durationMax?y.durationMax:y.durationMin&&v<y.durationMin?y.durationMin:parseInt(v,10)),I=function(t){var n,r,l;w||(w=t),q+=t-w,b=h+k*(r=E=1<(E=0===C?0:q/C)?1:E,"easeInQuad"===(n=c).easing&&(l=r*r),"easeOutQuad"===n.easing&&(l=r*(2-r)),"easeInOutQuad"===n.easing&&(l=r<.5?2*r*r:(4-2*r)*r-1),"easeInCubic"===n.easing&&(l=r*r*r),"easeOutCubic"===n.easing&&(l=--r*r*r+1),"easeInOutCubic"===n.easing&&(l=r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1),"easeInQuart"===n.easing&&(l=r*r*r*r),"easeOutQuart"===n.easing&&(l=1- --r*r*r*r),"easeInOutQuart"===n.easing&&(l=r<.5?8*r*r*r*r:1-8*--r*r*r*r),"easeInQuint"===n.easing&&(l=r*r*r*r*r),"easeOutQuint"===n.easing&&(l=1+--r*r*r*r*r),"easeInOutQuint"===n.easing&&(l=r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r),n.customEasing&&(l=n.customEasing(r)),l||r),e.scrollTo(0,Math.floor(b)),function(t,n){var r,l,s,d=e.pageYOffset;if(t==n||d==n||(h<n&&e.innerHeight+d)>=x)return m.cancelScroll(!0),l=n,s=p,0===(r=o)&&document.body.focus(),s||(r.focus(),document.activeElement!==r&&(r.setAttribute("tabindex","-1"),r.focus(),r.style.outline="none"),e.scrollTo(0,l)),a("scrollStop",c,o,i),!(u=w=null)}(b,_)||(u=e.requestAnimationFrame(I),w=t)};0===e.pageYOffset&&e.scrollTo(0,0),A=o,S=c,p||history.pushState&&S.updateURL&&history.pushState({smoothScroll:JSON.stringify(S),anchor:A.id},document.title,A===document.documentElement?"#top":"#"+A.id),"matchMedia"in e&&e.matchMedia("(prefers-reduced-motion)").matches?e.scrollTo(0,Math.floor(_)):(a("scrollStart",c,o,i),m.cancelScroll(!0),e.requestAnimationFrame(I))}}},p=function(t){if(!t.defaultPrevented&&!(0!==t.button||t.metaKey||t.ctrlKey||t.shiftKey)&&"closest"in t.target&&(c=t.target.closest(i))&&"a"===c.tagName.toLowerCase()&&!t.target.closest(s.ignore)&&c.hostname===e.location.hostname&&c.pathname===e.location.pathname&&/#/.test(c.href)){var n,r;try{n=o(decodeURIComponent(c.hash))}catch(t){n=o(c.hash)}if("#"===n){if(!s.topOnEmptyHash)return;r=document.documentElement}else r=document.querySelector(n);(r=r||"#top"!==n?r:document.documentElement)&&(t.preventDefault(),function(t){if(history.replaceState&&t.updateURL&&!history.state){var n=e.location.hash;n=n||"",history.replaceState({smoothScroll:JSON.stringify(t),anchor:n||e.pageYOffset},document.title,n||e.location.href)}}(s),m.animateScroll(r,c))}},f=function(e){if(null!==history.state&&history.state.smoothScroll&&history.state.smoothScroll===JSON.stringify(s)){var t=history.state.anchor;"string"==typeof t&&t&&!(t=document.querySelector(o(history.state.anchor)))||m.animateScroll(t,null,{updateURL:!1})}};return m.destroy=function(){s&&(document.removeEventListener("click",p,!1),e.removeEventListener("popstate",f,!1),m.cancelScroll(),u=d=c=s=null)},function(){if(!("querySelector"in document&&"addEventListener"in e&&"requestAnimationFrame"in e&&"closest"in e.Element.prototype))throw"Smooth Scroll: This browser does not support the required JavaScript methods and browser APIs.";m.destroy(),s=n(t,l||{}),d=s.header?document.querySelector(s.header):null,document.addEventListener("click",p,!1),s.updateURL&&s.popstate&&e.addEventListener("popstate",f,!1)}(),m}},"function"==typeof define&&define.amd?define([],(function(){return l(i)})):"object"==typeof exports?module.exports=l(i):i.SmoothScroll=l(i);let s=!1;setTimeout((()=>{if(s){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);const c=document.getElementById("header"),d=document.querySelectorAll(".menu-block__link"),u=document.querySelectorAll(".path"),m=document.querySelector(".icon-menu");window.addEventListener("scroll",(e=>{window.scrollY>800?(c.classList.add("header_scroll"),m.classList.add("btn_active")):(c.classList.remove("header_scroll"),m.classList.remove("btn_active"))})),d.forEach((e=>{window.addEventListener("scroll",(t=>{window.scrollY>800&&window.scrollY<2550?e.classList.add("_active"):e.classList.remove("_active")}))})),u.forEach((e=>{window.addEventListener("scroll",(t=>{window.scrollY>800&&window.scrollY<2550?e.classList.add("_path"):e.classList.remove("_path")}))})),window.addEventListener("DOMContentLoaded",(function(){[].forEach.call(document.querySelectorAll(".tel"),(function(e){var t;function n(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();var n="+7 (___) ___ ____",o=0,r=(n.replace(/\D/g,""),this.value.replace(/\D/g,"")),a=n.replace(/[_\d]/g,(function(e){return o<r.length?r.charAt(o++):e}));-1!=(o=a.indexOf("_"))&&(o<5&&(o=3),a=a.slice(0,o));var i=n.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(i=new RegExp("^"+i+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=a),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",n,!1),e.addEventListener("focus",n,!1),e.addEventListener("blur",n,!1),e.addEventListener("keydown",n,!1)}))}));gsap.timeline().set(".product-block__parallax-text .text-1",{xPercent:0,scrollTrigger:{trigger:".product",start:"top top",pin:!0}}).set(".video-frame",{yPercent:170,skewX:-25,skewY:25}).set(".product-block__parallax-text .text-2",{xPercent:-170,scrollTrigger:{trigger:".product",start:"top top"}}).to(".product-block__parallax-text .text-1",{xPercent:-170,duration:20,repeat:-1}).to(".product-block__parallax-text .text-2",{xPercent:220,duration:30,repeat:-1},-1).to(".video-frame",{yPercent:-7,duration:1,skewX:0,skewY:0},1.2).to(".video-frame",{yPercent:-50,opacity:0,duration:2,delay:5,skewX:25,skewY:-25}).set(".image-frame",{yPercent:100,opacity:0,skewX:-25,skewY:25}).to(".image-frame",{yPercent:-135,opacity:1,duration:1,skewX:0,skewY:0}).to(".image-frame",{yPercent:-170,opacity:0,duration:1,delay:5,skewX:25,skewY:-25});const p=window.matchMedia("(min-width: 768px)");console.log(p),function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),t.any()&&document.documentElement.classList.add("touch"),window.addEventListener("load",(function(){setTimeout((function(){document.documentElement.classList.add("loaded")}),0)})),function(){let e=document.querySelector(".icon-menu");e&&e.addEventListener("click",(function(e){n&&(((e=500)=>{document.documentElement.classList.contains("lock")?o(e):r(e)})(),document.documentElement.classList.toggle("menu-open"))}))}(),function(){const e=document.querySelectorAll("input[placeholder],textarea[placeholder]");e.length&&e.forEach((e=>{e.dataset.placeholder=e.placeholder})),document.body.addEventListener("focusin",(function(e){const t=e.target;"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||(t.dataset.placeholder&&(t.placeholder=""),t.classList.add("_focus"),t.parentElement.classList.add("_focus"),a.removeError(t))})),document.body.addEventListener("focusout",(function(e){const t=e.target;"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||(t.dataset.placeholder&&(t.placeholder=t.dataset.placeholder),t.classList.remove("_focus"),t.parentElement.classList.remove("_focus"),t.hasAttribute("data-validate")&&a.validateInput(t))}))}(),function(e){const t=document.forms;if(t.length)for(const e of t)e.addEventListener("submit",n);async function n(t){const n=t.target;if(0===(e?a.getErrors(n):0)){const e=n.getAttribute("data-message");if(n.hasAttribute("data-ajax")){t.preventDefault();const o=n.getAttribute("action")?n.getAttribute("action").trim():"#",r=n.getAttribute("method")?n.getAttribute("method").trim():"GET",i=new FormData(n);n.classList.add("_sending");const l=await fetch(o,{method:r,body:i});if(l.ok){await l.json();n.classList.remove("_sending"),e&&popupItem.open(`#${e}`),a.formClean(n)}else alert("Ошибка"),n.classList.remove("_sending")}n.hasAttribute("data-test")&&(t.preventDefault(),e&&popupItem.open(`#${e}`),a.formClean(n))}else{const e=n.querySelector("._error");e&&n.hasAttribute("data-goto-error")&&gotoBlock(e,1e3,50),t.preventDefault()}}}(!0)})();